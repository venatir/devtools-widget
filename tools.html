<html>
<head>
<style>
    @import "tools.css";
</style>
<script type='text/javascript' src='/System/Library/WidgetResources/AppleClasses/AppleInfoButton.js' charset='utf-8'></script>
<script type='text/javascript' src='/System/Library/WidgetResources/AppleClasses/AppleAnimator.js' charset='utf-8'></script>
<script type='text/javascript' src='/System/Library/WidgetResources/AppleClasses/AppleButton.js' charset='utf-8'></script>
<script type='text/javascript'>
var gDoneButton,
        gInfoButton,
//noinspection SpellCheckingInspection
        apple = {
            setup: function () {
                gDoneButton = new AppleGlassButton(document.getElementById("doneButton"), "Done", this.hidePrefs);
                gInfoButton = new AppleInfoButton(document.getElementById("infoButton"), document.getElementById("front"), "white", "white", this.showPrefs);
            },
            showPrefs: function () {
                var front = document.getElementById("front");
                var back = document.getElementById("back");

                if (window.widget) {
                    widget.prepareForTransition("ToBack");
                }

                front.style.display = "none";
                back.style.display = "block";

                if (window.widget) {
                    setTimeout('widget.performTransition();', 0);
                }
            },
            hidePrefs: function () {
                var front = document.getElementById("front");
                var back = document.getElementById("back");

                if (window.widget) {
                    widget.prepareForTransition("ToFront");
                }

                back.style.display = "none";
                front.style.display = "block";

                if (window.widget) {
                    setTimeout('widget.performTransition();', 0);
                }
            },
            save: function (key, value) {
                if (window.widget) {
                    widget.setPreferenceForKey(value, key);
                }
            }
        },
        password = {
            keys: "abcdefghijklmnopqrstuvwxyz",
            symbols: "~`!@#$%^&*()_-+={[}]|\\:;\"'<,>.?/",
            capitals: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
            numbers: "0123456789",
            generate: function () {
                var temp = '',
                        i,
                        tempKeys,
                        length,
                        savedLength,
                        savedNumbers,
                        savedCapitals,
                        savedSymbols;
                if (window.widget) {
                    savedLength = widget.preferenceForKey("savedLength");
                    savedNumbers = widget.preferenceForKey("savedNumbers");
                    savedCapitals = widget.preferenceForKey("savedCapitals");
                    savedSymbols = widget.preferenceForKey("savedSymbols");
                }

                tempKeys = this.keys;

                if (savedLength > 0) {
                    length = savedLength;
                }
                else {
                    length = 8;
                }

                if (savedCapitals === true) {
                    tempKeys = tempKeys.concat(this.capitals);
                }

                if (savedNumbers === true) {
                    tempKeys = tempKeys.concat(this.numbers);
                }
                if (savedSymbols === true) {
                    tempKeys = tempKeys.concat(this.symbols);
                }

                for (i = 0; i < length; i++) {
                    temp += tempKeys.charAt(Math.floor(Math.random() * tempKeys.length))
                }

                return updateOutput("passwordOutput", temp);
            }
        },
        pasteBin = {
            execute: function (raw, filenameTitle, expireTime, format) {
                var api_dev_key = '72da529c1e3107c3dd9c4170d16608c3',// please do not abuse. You can get yours for free by just creating a pastebin.com account
                        api_paste_code = encodeURIComponent(raw + "\n\n\nI am pasting via https://github.com/venatir/devtools-widget"), // your paste text
                        api_paste_private = '1', // 0=public 1=unlisted 2=private
                        api_paste_name = encodeURIComponent(filenameTitle || "I am pasting via https://github.com/venatir/devtools-widget"), // name or title of your paste
                        api_paste_expire_date = expireTime || '1H',
                        api_paste_format = format || 'php',
                        api_user_key = '', // if an invalid api_user_key or no key is used, the paste will be create as a guest
                        url = 'http://pastebin.com/api/api_post.php',
                        xmlhttp = new XMLHttpRequest();

                // TODO: comment out my text

                xmlhttp.open("POST", url, true);
                xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("raw").value = xmlhttp.responseText;
                    }
                };
                xmlhttp.send(
                        "api_option=paste&" +
                        "api_dev_key=" + api_dev_key + "&" +
                        "api_dev_key=" + api_dev_key + "&" +
                        "api_paste_code=" + api_paste_code + "&" +
                        "api_paste_private=" + api_paste_private + "&" +
                        "api_paste_name=" + api_paste_name + "&" +
                        "api_paste_expire_date=" + api_paste_expire_date + "&" +
                        "api_paste_format=" + api_paste_format + "&" +
                        "api_user_key=" + api_user_key
                )
            }
        },
        time = {
            intervalHandle: 0,
            updateTimestamp: function () {
                var timestamp = new Date().getTime();
                if (document.activeElement.id !== "timestamp") {
                    updateOutput("timestamp", (timestamp / 1000 | 0).toString());
                }
                if (!this.intervalHandle) {
                    time.intervalHandle = setInterval(this.updateTimestamp, 1000);
                }
            },
            pauseTimestamp: function () {
                if (this.intervalHandle) {
                    clearInterval(this.intervalHandle);
                    this.intervalHandle = 0;
                }
            },
            getNiceTimestampConversion: function (input) {
                var epoch,
                        result = "",
                        timestampType;
                if (input.charAt(input.length - 1) == "L") {
                    input = input.slice(0, -1);
                }
                input *= 1;
                epoch = input;

                //determine timestampType
                timestampType = document.getElementById("timestampType").value;
                switch (timestampType) {
                    case "A":
                        if (epoch >= 100000000000) {
                            epoch = (epoch / 1e3 | 0);
                        }
                        if (epoch >= 100000000000) {
                            epoch = (epoch / 1e3 | 0);
                        }
                        break;
                    case "MILLI":
                        epoch = (epoch / 1e3 | 0);
                        break;
                    case "MICRO":
                        epoch = (epoch / 1e6 | 0);
                        break;
                    case "SEC":
                    default:
                        //do nothing
                        break;
                }
                result = this.getHumanFormatForSeconds(epoch);
                return result;
            },
            getHumanFormatForSeconds: function (input) {
                var date = new Date(input * 1000),
                        localTime,
                        gmtTime,
                        result = input + "\n";
                if (Object.prototype.toString.call(date) !== "[object Date]" || date.toString() === "Invalid Date") {
                    result = "Cannot parse date";
                } else {
                    localTime = date.getFullYear() + "-" +
                    ("0" + date.getMonth() + 1).slice(-2) + "-" +
                    ("0" + date.getDate()).slice(-2) + " " +
                    ("0" + date.getHours()).slice(-2) + ":" +
                    ("0" + date.getMinutes()).slice(-2) + ":" +
                    ("0" + date.getSeconds()).slice(-2) + " GMT" + ((-date.getTimezoneOffset() > 0) ? "+" : "-") + (-date.getTimezoneOffset() / 60).toString();
                    gmtTime = date.getUTCFullYear() + "-" +
                    ("0" + date.getUTCMonth() + 1).slice(-2) + "-" +
                    ("0" + date.getUTCDate()).slice(-2) + " " +
                    ("0" + date.getUTCHours()).slice(-2) + ":" +
                    ("0" + date.getUTCMinutes()).slice(-2) + ":" +
                    ("0" + date.getUTCSeconds()).slice(-2) + " GMT";

                    result += gmtTime;
                    if (date.getTimezoneOffset() !== 0) {
                        result += "\n" + localTime;
                    }
                }
                return result;
            },
            updateDate: function () {
                var date = new Date();
                updateOutput("date-yyyy", date.getUTCFullYear());
                updateOutput("date-mm", ("0" + date.getUTCMonth()).slice(-2));
                updateOutput("date-dd", ("0" + date.getUTCDate()).slice(-2));
                updateOutput("date-hh", ("0" + date.getUTCHours()).slice(-2));
                updateOutput("date-ii", ("0" + date.getUTCMinutes()).slice(-2));
                updateOutput("date-ss", ("0" + date.getUTCSeconds()).slice(-2));
            },
            convertHumanToEpoch: function () {
                var tz = document.getElementById("date-tz").value,
                        d,
                        yyyy = document.getElementById("date-yyyy").value,
                        mm = document.getElementById("date-mm").value,
                        dd = document.getElementById("date-dd").value,
                        hh = document.getElementById("date-hh").value,
                        ii = document.getElementById("date-ii").value,
                        ss = document.getElementById("date-ss").value,
                        epoch;
                if (tz == 2) {
                    d = new Date(yyyy, mm - 1, dd, hh, ii, ss);
                } else {
                    d = new Date(Date.UTC(yyyy, mm - 1, dd, hh, ii, ss));
                }
                epoch = (d.getTime() / 1000);
                updateOutput("timestampResult", epoch)
            }
        },
        updateOutput = function (id, result) {
            if (document.getElementById(id).value !== undefined) {
                document.getElementById(id).value = result;
            }
            else {
                document.getElementById(id).innerHTML = result;
            }
        };
</script>
</head>
<body onload="apple.setup();">
<div id="front">
<span class="tools">
        <input type="text" size=18 id="passwordOutput" name="passwordOutput" title="Password">
        <input type="button" value="Generate Password" onClick="password.generate();">
        <hr/>
        <textarea rows="5" id="dEncodedText" name="dEncodedText" title="dEncodedText" placeholder="INPUT TEXT TO ENCODE/DECODE HERE"></textarea>
        <br/>
        <input type="button" class="left" value="Base64 Encode" onClick="document.getElementById('dEncodedText').value=btoa(document.getElementById('dEncodedText').value);">
        <input type="button" class="right" value="Base64 Decode" onClick="document.getElementById('dEncodedText').value=atob(document.getElementById('dEncodedText').value);">
        <br/>
        <input type="button" class="left" value="Url Encode" onClick="document.getElementById('dEncodedText').value = encodeURIComponent(document.getElementById('dEncodedText').value);">
        <input type="button" class="right" value="Url Decode" onClick="document.getElementById('dEncodedText').value = decodeURIComponent(document.getElementById('dEncodedText').value);">
        <br/>
        <hr/>
        <textarea rows="5" id="raw" name="raw" title="raw" placeholder="INPUT TEXT TO SEND TO PASTEBIN HERE"></textarea><br/>
        <input type="text" id="filenameTitle" name="filenameTitle" title="filenameTitle" placeholder="Optional: Title">

        <select title="expireTime" id="expireTime">
            <option value="N">Never</option>
            <option value="10M">10 Minutes</option>
            <option value="1H" selected>1 Hour</option>
            <option value="1D">1 Day</option>
            <option value="1W">1 Week</option>
            <option value="2W">2 Weeks</option>
            <option value="1M">1 Month</option>
        </select>

        <select title="format" id="format">
        <option value="4cs">4CS</option>
        <option value="6502acme">6502 ACME Cross Assembler</option>
        <option value="6502kickass">6502 Kick Assembler</option>
        <option value="6502tasm">6502 TASM/64TASS</option>
        <option value="abap">ABAP</option>
        <option value="actionscript">ActionScript</option>
        <option value="actionscript3">ActionScript 3</option>
        <option value="ada">Ada</option>
        <option value="algol68">ALGOL 68</option>
        <option value="apache">Apache Log</option>
        <option value="applescript">AppleScript</option>
        <option value="apt_sources">APT Sources</option>
        <option value="arm">ARM</option>
        <option value="asm">ASM (NASM)</option>
        <option value="asp">ASP</option>
        <option value="asymptote">Asymptote</option>
        <option value="autoconf">autoconf</option>
        <option value="autohotkey">Autohotkey</option>
        <option value="autoit">AutoIt</option>
        <option value="avisynth">Avisynth</option>
        <option value="awk">Awk</option>
        <option value="bascomavr">BASCOM AVR</option>
        <option value="bash">Bash</option>
        <option value="basic4gl">Basic4GL</option>
        <option value="bibtex">BibTeX</option>
        <option value="blitzbasic">Blitz Basic</option>
        <option value="bnf">BNF</option>
        <option value="boo">BOO</option>
        <option value="bf">BrainFuck</option>
        <option value="c">C</option>
        <option value="c_mac">C for Macs</option>
        <option value="cil">C Intermediate Language</option>
        <option value="csharp">C#</option>
        <option value="cpp">C++</option>
        <option value="cpp-qt">C++ (with QT extensions)</option>
        <option value="c_loadrunner">C: Loadrunner</option>
        <option value="caddcl">CAD DCL</option>
        <option value="cadlisp">CAD Lisp</option>
        <option value="cfdg">CFDG</option>
        <option value="chaiscript">ChaiScript</option>
        <option value="clojure">Clojure</option>
        <option value="klonec">Clone C</option>
        <option value="klonecpp">Clone C++</option>
        <option value="cmake">CMake</option>
        <option value="cobol">COBOL</option>
        <option value="coffeescript">CoffeeScript</option>
        <option value="cfm">ColdFusion</option>
        <option value="css">CSS</option>
        <option value="cuesheet">Cuesheet</option>
        <option value="d">D</option>
        <option value="dcl">DCL</option>
        <option value="dcpu16">DCPU-16</option>
        <option value="dcs">DCS</option>
        <option value="delphi">Delphi</option>
        <option value="oxygene">Delphi Prism (Oxygene)</option>
        <option value="diff">Diff</option>
        <option value="div">DIV</option>
        <option value="dos">DOS</option>
        <option value="dot">DOT</option>
        <option value="e">E</option>
        <option value="ecmascript">ECMAScript</option>
        <option value="eiffel">Eiffel</option>
        <option value="email">Email</option>
        <option value="epc">EPC</option>
        <option value="erlang">Erlang</option>
        <option value="fsharp">F#</option>
        <option value="falcon">Falcon</option>
        <option value="fo">FO Language</option>
        <option value="f1">Formula One</option>
        <option value="fortran">Fortran</option>
        <option value="freebasic">FreeBasic</option>
        <option value="freeswitch">FreeSWITCH</option>
        <option value="gambas">GAMBAS</option>
        <option value="gml">Game Maker</option>
        <option value="gdb">GDB</option>
        <option value="genero">Genero</option>
        <option value="genie">Genie</option>
        <option value="gettext">GetText</option>
        <option value="go">Go</option>
        <option value="groovy">Groovy</option>
        <option value="gwbasic">GwBasic</option>
        <option value="haskell">Haskell</option>
        <option value="haxe">Haxe</option>
        <option value="hicest">HicEst</option>
        <option value="hq9plus">HQ9 Plus</option>
        <option value="html4strict">HTML</option>
        <option value="html5">HTML 5</option>
        <option value="icon">Icon</option>
        <option value="idl">IDL</option>
        <option value="ini">INI file</option>
        <option value="inno">Inno Script</option>
        <option value="intercal">INTERCAL</option>
        <option value="io">IO</option>
        <option value="j">J</option>
        <option value="java">Java</option>
        <option value="java5">Java 5</option>
        <option value="javascript">JavaScript</option>
        <option value="jquery">jQuery</option>
        <option value="kixtart">KiXtart</option>
        <option value="latex">Latex</option>
        <option value="ldif">LDIF</option>
        <option value="lb">Liberty BASIC</option>
        <option value="lsl2">Linden Scripting</option>
        <option value="lisp">Lisp</option>
        <option value="llvm">LLVM</option>
        <option value="locobasic">Loco Basic</option>
        <option value="logtalk">Logtalk</option>
        <option value="lolcode">LOL Code</option>
        <option value="lotusformulas">Lotus Formulas</option>
        <option value="lotusscript">Lotus Script</option>
        <option value="lscript">LScript</option>
        <option value="lua">Lua</option>
        <option value="m68k">M68000 Assembler</option>
        <option value="magiksf">MagikSF</option>
        <option value="make">Make</option>
        <option value="mapbasic">MapBasic</option>
        <option value="matlab">MatLab</option>
        <option value="mirc">mIRC</option>
        <option value="mmix">MIX Assembler</option>
        <option value="modula2">Modula 2</option>
        <option value="modula3">Modula 3</option>
        <option value="68000devpac">Motorola 68000 HiSoft Dev</option>
        <option value="mpasm">MPASM</option>
        <option value="mxml">MXML</option>
        <option value="mysql">MySQL</option>
        <option value="nagios">Nagios</option>
        <option value="newlisp">newLISP</option>
        <option value="text">None</option>
        <option value="nsis">NullSoft Installer</option>
        <option value="oberon2">Oberon 2</option>
        <option value="objeck">Objeck Programming Langua</option>
        <option value="objc">Objective C</option>
        <option value="ocaml-brief">OCalm Brief</option>
        <option value="ocaml">OCaml</option>
        <option value="octave">Octave</option>
        <option value="pf">OpenBSD PACKET FILTER</option>
        <option value="glsl">OpenGL Shading</option>
        <option value="oobas">Openoffice BASIC</option>
        <option value="oracle11">Oracle 11</option>
        <option value="oracle8">Oracle 8</option>
        <option value="oz">Oz</option>
        <option value="parasail">ParaSail</option>
        <option value="parigp">PARI/GP</option>
        <option value="pascal">Pascal</option>
        <option value="pawn">PAWN</option>
        <option value="pcre">PCRE</option>
        <option value="per">Per</option>
        <option value="perl">Perl</option>
        <option value="perl6">Perl 6</option>
        <option value="php" selected>PHP</option>
        <option value="php-brief">PHP Brief</option>
        <option value="pic16">Pic 16</option>
        <option value="pike">Pike</option>
        <option value="pixelbender">Pixel Bender</option>
        <option value="plsql">PL/SQL</option>
        <option value="postgresql">PostgreSQL</option>
        <option value="povray">POV-Ray</option>
        <option value="powershell">Power Shell</option>
        <option value="powerbuilder">PowerBuilder</option>
        <option value="proftpd">ProFTPd</option>
        <option value="progress">Progress</option>
        <option value="prolog">Prolog</option>
        <option value="properties">Properties</option>
        <option value="providex">ProvideX</option>
        <option value="purebasic">PureBasic</option>
        <option value="pycon">PyCon</option>
        <option value="python">Python</option>
        <option value="pys60">Python for S60</option>
        <option value="q">q/kdb+</option>
        <option value="qbasic">QBasic</option>
        <option value="rsplus">R</option>
        <option value="rails">Rails</option>
        <option value="rebol">REBOL</option>
        <option value="reg">REG</option>
        <option value="rexx">Rexx</option>
        <option value="robots">Robots</option>
        <option value="rpmspec">RPM Spec</option>
        <option value="ruby">Ruby</option>
        <option value="gnuplot">Ruby Gnuplot</option>
        <option value="sas">SAS</option>
        <option value="scala">Scala</option>
        <option value="scheme">Scheme</option>
        <option value="scilab">Scilab</option>
        <option value="sdlbasic">SdlBasic</option>
        <option value="smalltalk">Smalltalk</option>
        <option value="smarty">Smarty</option>
        <option value="spark">SPARK</option>
        <option value="sparql">SPARQL</option>
        <option value="sql">SQL</option>
        <option value="stonescript">StoneScript</option>
        <option value="systemverilog">SystemVerilog</option>
        <option value="tsql">T-SQL</option>
        <option value="tcl">TCL</option>
        <option value="teraterm">Tera Term</option>
        <option value="thinbasic">thinBasic</option>
        <option value="typoscript">TypoScript</option>
        <option value="unicon">Unicon</option>
        <option value="uscript">UnrealScript</option>
        <option value="ups">UPC</option>
        <option value="urbi">Urbi</option>
        <option value="vala">Vala</option>
        <option value="vbnet">VB.NET</option>
        <option value="vedit">Vedit</option>
        <option value="verilog">VeriLog</option>
        <option value="vhdl">VHDL</option>
        <option value="vim">VIM</option>
        <option value="visualprolog">Visual Pro Log</option>
        <option value="vb">VisualBasic</option>
        <option value="visualfoxpro">VisualFoxPro</option>
        <option value="whitespace">WhiteSpace</option>
        <option value="whois">WHOIS</option>
        <option value="winbatch">Winbatch</option>
        <option value="xbasic">XBasic</option>
        <option value="xml">XML</option>
        <option value="xorg_conf">Xorg Config</option>
        <option value="xpp">XPP</option>
        <option value="yaml">YAML</option>
        <option value="z80">Z80 Assembler</option>
        <option value="zxbasic">ZXBasic</option>
        </select>
        <input type="button" value="Post Paste" onClick="pasteBin(
        document.getElementById('raw').value,
        document.getElementById('filenameTitle').value,
        document.getElementById('expireTime').value,
        document.getElementById('format').value);">
        <hr/>
        <input class="left" type="text" size=15 id="timestamp" name="timestamp" title="timestamp"
               onblur="updateOutput('timestampResult',time.getNiceTimestampConversion(this.value));time.updateTimestamp()"
               onmouseover="time.pauseTimestamp();"
               onclick="this.select();time.pauseTimestamp();"
               onmouseout="time.updateTimestamp();">
        <select id="timestampType">
            <option value="A" selected>Autodetect</option>
            <option value="SEC">Seconds</option>
            <option value="MILLI">Milliseconds</option>
            <option value="MICRO">Microseconds</option>
        </select>
        <script>time.updateTimestamp();</script>
        <textarea rows="3" id="timestampResult" placeholder="INPUT TIMESTAMP ABOVE AND SELECT WHAT THE ENTERED VALUE REPRESENTS"></textarea>

        <table>
            <tr>
                <td>Day</td>
                <td>Month</td>
                <td>Year</td>
                <td>&nbsp;</td>
                <td>Hour</td>
                <td>Min</td>
                <td colspan="2">Sec</td>
            </tr>
            <tr>
                <td><input type="text" id="date-dd" size="2" maxlength="2" value="1" name="dd">&nbsp;-&nbsp;</td>
                <td><input type="text" id="date-mm" size="2" maxlength="2" value="1" name="mm">&nbsp;-&nbsp;</td>
                <td><input type="text" id="date-yyyy" size="5" maxlength="4" value="2012" name="yyyy"></td>
                <td>&nbsp;</td>
                <td><input type="text" id="date-hh" size="2" maxlength="2" value="0" name="hh">&nbsp;:&nbsp;</td>
                <td><input type="text" id="date-ii" size="2" maxlength="2" value="0" name="ii">&nbsp;:&nbsp;</td>
                <td>
                    <input type="text" id="date-ss" size="2" maxlength="2" value="0" name="ss">
                    <select id="date-tz" name="tz">
                        <option value="1" selected>GMT</option>
                        <option value="2">Local time</option>
                    </select>
                </td>
                <td><input type="submit" class="button" title="Convert to timestamp" value="Convert to timestamp" onclick="time.convertHumanToEpoch()"></td>
            </tr>
        </table>
<script>time.updateDate();</script>


    </span>

<div id='infoButton'></div>
</div>
<div id="back">
    <form name="preferences">
        Password Generation:
        <label for="length">Length:</label>
        <input type="text" id="length" name="length" size=3 value="8" title="Password Length" onchange="apple.save('savedLength',this.value);">
        <br/>
        <label for="numbers">Use numbers:</label>
        <input type="checkbox" id="numbers" name="numbers" title="Numbers" onclick="apple.save('savedNumbers',this.checked);">
        <br/>
        <label for="capitals">Use capitals:</label>
        <input type="checkbox" id="capitals" name="capitals" title="Capitals" onclick="apple.save('savedCapitals',this.checked);">
        <br/>
        <label for="symbols">Use symbols:</label>
        <input type="checkbox" id="symbols" name="symbols" title="Symbols" onclick="apple.save('savedSymbols',this.checked);">
        <br/>
        <hr/>
        <!-- TODO: add username and password for pastebin-->
    </form>
    <div id="doneButton"></div>
</div>
</body>
</html>
